# ðŸ§¨ Enterprise Compromise Simulation: From SQL Exploitation to Domain Admin

This project simulates a full enterprise compromise chain across a vulnerable forest. It includes legacy infrastructure, misconfigured privileges, and exploitable servicesâ€”mirroring real-world attack surfaces found in SMB environments.

---

## ðŸ§± Lab Architecture

- **Windows Server 2008**: Domain Controller (AD + DNS)
- **SQL Server 2012**: Legacy database with `xp_cmdshell` enabled
- **Metasploitable3**: Linux target with known vulnerabilities
- **Ubuntu**: Optional recon/pivot box
- **Kali Linux**: Attacker machine

All machines are configured with static IPs and reside on the same subnet. The forest and domain are fully promoted, with custom users added to the admin group to simulate misconfigurations.

---

## ðŸŽ¯ Attack Chain Overview

### Phase 1: Recon & Enumeration
- `nmap`, `enum4linux`, `ldapsearch`, `smbclient`
- Identified open ports, domain structure, and user accounts

### Phase 2: SQL Server Exploitation
- Used Metasploitâ€™s `mssql_payload` and `mssql_login`
- Abused `xp_cmdshell` to gain OS-level access
- Dropped reverse shell and created local admin

### Phase 3: Privilege Escalation
- Ran **WinPEAS** and **PowerUp** to identify misconfigurations
- Escalated privileges via weak service permissions and token abuse

### Phase 4: Lateral Movement
- Mapped privilege paths using **BloodHound**
- Exploited ACLs and GPOs to move laterally to Domain Controller
- Extracted hashes using `mimikatz` and `secretsdump.py`

### Phase 5: Domain Admin Takeover
- Escalated to DA via misconfigured group membership
- Created rogue users and persistence mechanisms
- Simulated data exfiltration and cleanup

---

## ðŸ› ï¸ Tools Used

- Metasploit
- WinPEAS
- BloodHound
- Mimikatz
- Nmap
- PowerUp
- ChatGPT (for recon automation)

---

## ðŸ“¸ Screenshots & Outputs

> *(Upload screenshots of Metasploit shell, BloodHound graph, WinPEAS output, and AD promotion wizard here)*

---

## ðŸ§  Learning Outcomes

- Architected a vulnerable forest with realistic misconfigurations
- Executed a full compromise chain from SQL Server to Domain Admin
- Practiced privilege escalation, lateral movement, and post-exploitation
- Documented forensic artifacts and mitigation strategies

---

## ðŸ”— Related Projects

- [SQL Server Exploitation](../SQL-Server-Exploitation)
- [Privilege Escalation in Windows Domain](../Privilege-Escalation-Windows)
- [Insider Threat Simulation](../Insider-Threat-AD)
